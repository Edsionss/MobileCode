/*
 * BEM Styles for the CanvasDrag Component
 */

/* Block: The main container for the draggable canvas */
.canvas-drag {
  width: 100%;
  height: 100%;
  padding: 10px;
  box-sizing: border-box;
  /* border: 1px dashed #ccc; */
  border-top: none;
  border-bottom: none;
  /* 建议加上，避免 padding 影响总宽高 */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  overflow: auto;
}

/* Element: The status indicator text */
.canvas-drag__status {
  margin-bottom: 10px;
  color: #606266;
  font-size: 14px;
}

/* Element: Each draggable item */
.canvas-drag__item {
  padding: 6px;
  background-color: #fdfdfd;
  margin-bottom: 10px;
  cursor: move;
  border: 1px dashed transparent;
  /* 添加一个透明边框，防止 hover 和 chosen 时跳动 */
  transition: background-color 0.2s, border-color 0.2s;
  /* 添加过渡效果 */
}

.canvas-drag__item:hover {
  background-color: #f1f1f1;
  border-color: #dcdfe6;
  /* hover 时显示虚线边框 */
}

.canvas-drag__container {
  height: 100%;
  overflow: auto;
  width: 100%;

}

.canvas-drag__content,
.canvas-drag__item-group {
  width: 100%;
  height: 100%;
  overflow: auto;
}

.canvas-item__content {
  padding: 10px;
  margin-bottom: 10px;
  position: relative;
  z-index: 1;
  /* border: 1px dashed transparent; */
  /* transition: all 0.2s ease-in-out; */
  border-radius: 4px;
  /* cursor: pointer; */
}


/* Modifier: The state of an item when it is being chosen/dragged */
/* 注意：BEM 推荐将 Modifier 和 Element 类名写在一起，以提高选择器权重和明确性 */
.canvas-drag__item--chosen {
  /* z-index: 9999; */
  background-color: #f0f8ff;
  /* 选中时给一个淡蓝色背景 */
  border: solid 2px #409eff !important;
  /* draggable 可能会覆盖，所以保留 !important */

}

/* 鼠标点击时给一个淡蓝色背景 */
.canvas-item__content.is-selected {
  border: 1px dashed #409EFF;
  z-index: 10000;
  /* 一个比默认值高的 z-index */
  /* transform: none !important; */
  /* 强制移除 transform，打破“监狱” */
  /* background-color: rgba(64, 158, 255, 0.1); */
  /* box-shadow: 0 0 8px rgba(64, 158, 255, 0.5); */
}

.canvas-item__menu {
  position: absolute;
  left: -1px;
  bottom: -10px;
  z-index: 10000;
  display: flex;
  align-items: center;
  background-color: #409eff;
  /* padding: 3px; */
  border-radius: 7px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  gap: 4px;
  font-size: 14px;
  color: white;
  font-weight: bold;
  padding: 0 7px;
}

/* 
   如果 draggable 的 !important 权重过高，可以尝试更高权重的选择器，
   但通常 .class--modifier 已经足够。
   例如:
   .canvas-drag .canvas-drag__item--chosen { ... }
*/
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f4f7f9; margin: 0; padding: 20px; color: #333; }
.main-layout { display: flex; gap: 20px; }
.panel { border: 1px solid #dcdfe6; border-radius: 8px; background-color: #fff; box-shadow: 0 2px 12px 0 rgba(0,0,0,0.05); }
.components-panel { width: 280px; padding: 15px; }
.canvas-panel { flex-grow: 1; padding: 15px; }
h3 { margin-top: 0; border-bottom: 1px solid #e4e7ed; padding-bottom: 10px; }

/* 左侧组件库项 */
.component-item { padding: 12px; margin-bottom: 10px; border: 1px solid #dcdfe6; border-radius: 4px; background-color: #f5f7fa; cursor: move; text-align: center; font-weight: 500; }
.component-item:hover { border-color: #409eff; color: #409eff; }

/* 画布中的组件项 */
.canvas-item { padding: 10px; margin-bottom: 10px; border: 2px solid transparent; background-color: #fff; position: relative; border-radius: 4px; transition: all 0.2s ease; }
.canvas-item:hover { border-color: #c0c4cc; }
.canvas-item.is-selected { border-color: #409eff !important; box-shadow: 0 0 10px rgba(64, 158, 255, 0.5); }

/* 容器组件的样式 */
.is-container { border: 2px dashed #b3d8ff; background-color: #ecf5ff; }
.container-drop-zone { min-height: 60px; padding: 10px; background-color: rgba(255, 255, 255, 0.8); border: 1px dashed #a0c4e8; border-radius: 4px; }

/* 模拟具体组件样式 */
.comp-title { font-size: 24px; font-weight: 600; margin: 5px 0; }
.comp-paragraph { margin: 5px 0; line-height: 1.6; }
.comp-input { width: 98%; padding: 8px; border: 1px solid #dcdfe6; border-radius: 4px; }
.comp-button { padding: 8px 15px; border: none; border-radius: 4px; background-color: #409eff; color: white; cursor: pointer; }

.comp-card { border: 1px solid #ebeef5; border-radius: 4px; box-shadow: 0 2px 4px 0 rgba(0,0,0,0.08); }
.comp-card-header { padding: 10px 15px; background-color: #f5f7fa; border-bottom: 1px solid #ebeef5; font-weight: bold; }
.comp-card-body { padding: 15px; }

.comp-form { border: 1px solid #e4e7ed; padding: 20px; border-radius: 4px; }

/* 拖拽占位符 */
.sortable-ghost { opacity: 0.5; background: #c8ebfb; border-radius: 4px; }
